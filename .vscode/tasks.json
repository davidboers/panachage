{
  "tasks": [
    {
      "type": "shell",
      "label": "Compile miniparser",
      "command": "g++",
      "args": ["bin/miniparser.cpp", "-o", "bin/miniparser.exe"],
      "problemMatcher": ["$gcc"],
      "group": "build",
      "dependsOn": ["Compile 'votes' yacc", "Compile 'votes' lex"],
      "dependsOrder": "sequence",
      "detail": "Compile miniparser bin"
    },
    {
      "type": "shell",
      "label": "Compile votefile simplifier",
      "command": "g++",
      "args": ["bin/simplifyvotefile.cpp", "-o", "bin/simplifyvotefile.exe"],
      "problemMatcher": ["$gcc"],
      "group": "build",
      "dependsOn": ["Compile 'votes' yacc", "Compile 'votes' lex"],
      "dependsOrder": "sequence",
      "detail": "Compile votefile simplifier for distribution"
    },
    {
      "type": "shell",
      "label": "Compile votefile simplifier test",
      "command": "g++",
      "args": [
        "bin/simplifyvotefile.cpp",
        "-o",
        "bin/simplifyvotefiletest.exe",
        "-DTEST"
      ],
      "problemMatcher": ["$gcc"],
      "group": "build",
      "dependsOn": ["Compile 'votes' yacc", "Compile 'votes' lex"],
      "dependsOrder": "sequence",
      "detail": "Compile votefile simplifier with test"
    },
    {
      "type": "shell",
      "label": "Compile votefile",
      "command": "g++",
      "args": ["tests/votefile.cpp", "-o", "tests/votefile.exe"],
      "problemMatcher": ["$gcc"],
      "group": "build",
      "dependsOn": ["Compile 'votes' yacc", "Compile 'votes' lex"],
      "dependsOrder": "sequence",
      "detail": "Compile votefile test"
    },
    {
      "type": "shell",
      "label": "Compile partylistfile",
      "command": "g++",
      "args": ["tests/partylistfile.cpp", "-o", "tests/partylistfile.exe"],
      "problemMatcher": ["$gcc"],
      "group": "build",
      "dependsOn": ["Compile 'partylist' yacc", "Compile 'partylist' lex"],
      "dependsOrder": "sequence",
      "detail": "Compile partylist test"
    },
    {
      "type": "shell",
      "label": "Compile votes test",
      "command": "g++",
      "args": ["tests/votes.cpp", "-o", "tests/votes.exe"],
      "problemMatcher": ["$gcc"],
      "group": "build",
      "detail": "Compile votes test"
    },
    {
      "type": "shell",
      "label": "Compile alloc_seats test",
      "command": "gcc",
      "args": ["tests/alloc_seats.c", "-o", "tests/alloc_seats.exe"],
      "problemMatcher": ["$gcc"],
      "group": "build",
      "detail": "Compile alloc_seats test with C compiler"
    },
    {
      "type": "shell",
      "label": "Compile 'votes' yacc",
      "command": "bison",
      "args": ["-dy", "votes.y", "-b", "votes"],
      "group": "build",
      "detail": "Create 'votes.tab.c' and 'votes.tab.h'"
    },
    {
      "type": "shell",
      "label": "Compile 'votes' lex",
      "command": "flex",
      "args": ["-o", "votes_lexer.c", "votes.l"],
      "group": "build",
      "detail": "Create 'votes_lexer.c'"
    },
    {
      "type": "shell",
      "label": "Compile 'partylist' yacc",
      "command": "bison",
      "args": ["-dy", "partylist.y", "-b", "partylist"],
      "group": "build",
      "detail": "Create 'partylist.tab.c' and 'partylist.tab.h'"
    },
    {
      "type": "shell",
      "label": "Compile 'partylist' lex",
      "command": "flex",
      "args": ["-o", "partylist_lexer.c", "partylist.l"],
      "group": "build",
      "detail": "Create 'partylist_lexer.c'"
    },
    {
      "type": "shell",
      "label": "Compile HAM as library",
      "command": "gcc",
      "args": ["-c", "ham.c", "-o", "ham.o"],
      "group": "build",
      "detail": "Compile to static library 'ham.o'"
    },
    {
      "type": "shell",
      "label": "Archive HAM library",
      "command": "ar",
      "args": ["rcs", "libham.a", "ham.o"],
      "group": "build",
      "dependsOn": ["Compile HAM as library"],
      "detail": "Archive 'ham.o' to 'libham.a'"
    },
    {
      "type": "shell",
      "label": "Compile Liechtenstein test",
      "command": "g++",
      "args": [
        "tests/liechtenstein.cpp",
        "-L.",
        "-lham",
        "-o",
        "tests/liechtenstein.exe"
      ],
      "group": "build",
      "dependsOn": ["Archive HAM library"],
      "detail": "Compile Liechtenstein test while linking static HAM library"
    }
  ],
  "version": "2.0.0"
}
